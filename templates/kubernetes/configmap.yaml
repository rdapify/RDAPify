apiVersion: v1
kind: ConfigMap
metadata:
  name: rdapify-config
  labels:
    app: rdapify
    component: config
data:
  # Cache Configuration
  cache-strategy: "memory"
  cache-ttl: "3600"
  cache-max-size: "1000"
  
  # Privacy Configuration
  redact-pii: "true"
  redact-fields: "email,phone,fax"
  
  # Retry Configuration
  max-retry-attempts: "3"
  retry-backoff: "exponential"
  retry-initial-delay: "1000"
  retry-max-delay: "10000"
  
  # Timeout Configuration (milliseconds)
  request-timeout: "10000"
  connect-timeout: "5000"
  dns-timeout: "3000"
  
  # SSRF Protection
  ssrf-protection-enabled: "true"
  block-private-ips: "true"
  block-localhost: "true"
  block-link-local: "true"
  
  # Bootstrap Configuration
  bootstrap-url: "https://data.iana.org/rdap"
  
  # Logging
  log-level: "info"
  
  # User Agent
  user-agent: "RDAPify/0.1.0-alpha.4 (Kubernetes)"
  
  # Follow Redirects
  follow-redirects: "true"
  max-redirects: "5"
  
  # Include Raw Response
  include-raw: "false"
---
apiVersion: v1
kind: Secret
metadata:
  name: rdapify-secrets
  labels:
    app: rdapify
    component: secrets
type: Opaque
stringData:
  # Redis URL (if using Redis cache)
  # Format: redis://[:password@]host[:port][/db-number]
  redis-url: "redis://redis-service:6379/0"
  
  # API Keys (if needed for monitoring/logging services)
  datadog-api-key: ""
  newrelic-license-key: ""
  
  # Custom allowed domains for SSRF protection (comma-separated)
  allowed-domains: "rdap.verisign.com,rdap.arin.net,rdap.ripe.net,rdap.apnic.net,rdap.lacnic.net"
